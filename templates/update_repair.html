<!DOCTYPE html>
<html>
<head>
    <title>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° - IT Helpdesk</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        form { border: 1px solid #ccc; padding: 20px; border-radius: 5px; background: white; }
        label { display: block; margin-top: 15px; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; border-radius: 5px; border: 1px solid #ccc;}
        .readonly { background-color: #f0f0f0; color: #555; }
        button { margin-top: 20px; padding: 10px 20px; background-color: #007bff; border: none; cursor: pointer; color: white; font-weight: bold; width: 100%; border-radius: 5px;}
        button:hover { background-color: #0056b3; }
        
        /* ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤ */
        .cost-section { background-color: #e9ecef; padding: 15px; border-radius: 8px; margin-top: 20px; border: 1px solid #ced4da; }
        .cost-label { color: #0056b3; font-size: 1.1em; }
    </style>
</head>
<body>
    <h1>üõ† ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°</h1>
    
    <form method="POST">
        <label>‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (Device):</label>
        <input type="text" value="{{ repair['device_name'] }}" class="readonly" readonly>

        <label>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢ (Problem):</label>
        <textarea rows="3" class="readonly" readonly>{{ repair['problem_detail'] }}</textarea>

        <hr>

        <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô (Status):</label>
        <select name="status">
            <option value="Pending" {% if repair['status'] == 'Pending' %}selected{% endif %}>üî¥ ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (Pending)</option>
            <option value="In Progress" {% if repair['status'] == 'In Progress' %}selected{% endif %}>üîµ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ã‡πà‡∏≠‡∏° (In Progress)</option>
            <option value="Completed" {% if repair['status'] == 'Completed' %}selected{% endif %}>üü¢ ‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (Completed)</option>
        </select>

        <label>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°/‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (Technician Note):</label>
        <textarea name="technician_note" rows="3" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡πÉ‡∏´‡∏°‡πà, ‡∏•‡∏á Windows ‡πÉ‡∏´‡∏°‡πà">{{ repair['technician_note'] or '' }}</textarea>

        <div class="cost-section">
            <label class="cost-label">üí∞ ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</label>
            
            <label>‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (Cost Details):</label>
            <textarea name="spare_parts" rows="2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏•‡∏á Windows 300, ‡∏Ñ‡πà‡∏≤‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î 100">{{ repair['spare_parts'] or '' }}</textarea>

            <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (Total Price):</label>
            <input type="number" name="cost" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)" value="{{ repair['cost'] or 0 }}" style="font-size: 1.2em; font-weight: bold; color: #d63384;">
        </div>

        <button type="submit">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</button>
    </form>

    <a href="{{ url_for('dashboard') }}" style="display:block; margin-top:15px; text-align:center; text-decoration: none;">‚ùå‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å / ‚óÄÔ∏è‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
</body>
</html>